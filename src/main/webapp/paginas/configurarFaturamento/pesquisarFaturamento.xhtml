<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml"
	xmlns:sec="http://www.springframework.org/security/jsf/tags"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<ui:define name="content">
<style type="text/css">
	.ui-panel {
		margin-top: 20px
	}
</style>

	<div class="ContainerIndent">

		<p:panel id="panelConsulta">
				<div class="Container">
					<div class="Container100">
						<div class="ContainerIndent">
							<h:outputText value="Pesquisar Faturamento" styleClass="icon-title FontBold Fs18 hardblue"></h:outputText>
						</div>
					<div class="EmptyBox10"></div>

					</div>
					
					<div class="ui-grid ui-grid-responsive">
				
					<div class="EmptyBox5"></div>
						
					<!-- Combo tipo de informativo -->
					<!-- <div class="ui-grid-row">
						<div class="ui-grid-col-3">
							<p:outputLabel id="labelNome" value="Pesquisar chamado por Cliente: "  />
						</div>
						<div class="ui-grid-col-3">
							<p:inputText id="imputNome" value="#{chamadoController.cliente.nome}"  />
						</div>
					</div> -->
					
					<div class="ui-grid-row">
						<div class="ui-grid-col-3">
							<p:outputLabel id="labelNom" value="Pesquisar Faturamento por Tecnico: "  />
						</div>
						<div class="ui-grid-col-3">
							<p:selectOneMenu id="selectec"
									value="#{chamadoController.chamado.idTecnico}"
									style="width:208px">
									<f:selectItem itemLabel="Selecione" itemValue="" />
									<f:selectItems value="#{chamadoController.tecnicos}" var="t"
										itemLabel="#{t.nome}" itemValue="#{t.idTecnico}" />
								</p:selectOneMenu>
						</div>
					</div>
					
					
						<div class="EmptyBox5"></div>

						
						<p:commandButton value=" Novo " action="#{faturamentoController.incluir()}" icon="ui-icon-pencil"  styleClass="CyanButton" style="float:right;"  />
						<p:commandButton value=" Pesquisar " action="#{faturamentoController.pesquisarTodosFaturamentos()}" update="tableChamado"  icon="ui-icon-circle-zoomout" styleClass="CyanButton"  style="float:right;"  />
						
					
					<div class="EmptyBox10"></div>
					
						<p:panel id="panelResultado">
				
							<div class="ContainerIndent">
					
									<p:dataTable id="tableChamado" var="faturamento" paginator="true" 
									rows="10" paginatorPosition="bottom" emptyMessage="Nenhum registro foi encontrado para os parâmetros informados."
									value="#{faturamentoController.faturamentos}" >
										<f:facet name="header">
		                                	Chamados
		                            	</f:facet>
								
									    <p:column headerText="Tecnico">
									        <h:outputText value="#{faturamento.idCliente}" />
									    </p:column>
									    
									    <p:column headerText="Cliente">
									        <h:outputText value="#{faturamento.idTecnico}" />
									    </p:column>
									   
									   
									    
									     <p:column headerText="Data Inicial de faturamento">
									        <p:calendar id="imputInicial" value="#{faturamento.dataInicioFaturamento}" pattern="dd/MM/yyyy" mask="true" disabled="true"  />
									    </p:column>
									    
									     <p:column headerText="Data fim de Faturamento">
									        <p:calendar id="imputFecha" value="#{faturamento.dataFimFaturamento}" pattern="dd/MM/yyyy" mask="true" disabled="true"  />
									    </p:column>
									    
									     <p:column headerText="Valor Total">
									        <h:outputText value="#{faturamento.valorTotal}" />
									    </p:column> 
									    
									   	
										<p:column style="width:33px;text-align: center">
											<p:commandButton action="#{chamadoController.redirecionaAlterar(chamado)}" icon="ui-icon-document" title="Imprimir relatório"
												 styleClass="BlueButton"/>
										</p:column>
										<p:column style="width:33px;text-align: center">
											<p:commandButton action="#{faturamentoController.excluir(faturamento)}"
										 icon=" ui-icon-trash" title="Excluir Faturamento"
												immediate="true" update="@all"  ajax="false" styleClass="BlueDarkButton"/>
										</p:column> 
									 
							</p:dataTable>
						</div>
					</p:panel>								
				</div>
	 		</div>						
		  </p:panel>							
	   </div>
	</ui:define>
</ui:composition>